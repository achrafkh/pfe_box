"use strict";$(document).ready(function(){function e(e){var t='<a href="/op/client/'+e.id+'" class="btn btn-info waves-effect waves-light m-t-10">View</a>',i=a.row.add({name:e.firstname+" "+e.lastname,email:e.email,phone:e.phone,address:e.address,city:e.city,created_at:e.created_at,id:t}).draw(!1).node();$(i).addClass("newClient")}var a=(jQuery("#datepicker-autoclose").datepicker({autoclose:!0,todayHighlight:!1,format:"yyyy/mm/dd"}),$("#myTable").DataTable({columnDefs:[{targets:"no-sort",orderable:!1}],order:[[7,"desc"]],displayLength:10,processing:!0,serverSide:!0,ajax:url+"/op/getclients",columns:[{data:"src",render:function(e,a,t,i){return"fb"==e?'<i class="fa fa-facebook-official" aria-hidden="true"></i>':""}},{data:"id",name:"id"},{data:"name",name:"name"},{data:"email",name:"email"},{data:"phone",name:"phone"},{data:"address",name:"address"},{data:"city",name:"city"},{data:"created_at",name:"created_at"},{data:"id",render:function(e,a,t,i){return'<a href="/op/client/'+e+'" class="btn btn-info waves-effect waves-light m-t-10">View</a>'}}]}));$("#newClient").wizard({onInit:function(){$(this).parents(".myadmin-alert").fadeToggle(350),$("#validation").formValidation({framework:"bootstrap",fields:{firstname:{validators:{notEmpty:{message:"The First name is required"},stringLength:{min:3,max:30,message:"The First name must be more than 6 and less than 30 characters long"},regexp:{regexp:/^([ \u00c0-\u01ffa-zA-Z'\-])+$/,message:"The First name can only consist of alphabetical, number, dot and underscore"}}},lastname:{validators:{notEmpty:{message:"The Last name is required"},stringLength:{min:3,max:30,message:"The Last name must be more than 6 and less than 30 characters long"},regexp:{regexp:/^([ \u00c0-\u01ffa-zA-Z'\-])+$/,message:"The Last name can only consist of alphabetical, number, dot and underscore"}}},email:{validators:{notEmpty:{message:"The email address is required"},emailAddress:{message:"The input is not a valid email address"}}},phone:{validators:{digits:!0,notEmpty:{message:"The Phone Number is required"},stringLength:{min:8,max:15,message:"Use a valid phone Number"}}},birthdate:{validators:{notEmpty:{message:"BirthDate is required"}}}}})},validator:function(){var e=$("#validation").data("formValidation"),a=$(this);e.validateContainer(a);var t=e.isValidContainer(a);return!1!==t&&null!==t},onFinish:function(){$("#close-create-client").click(),$.ajax({url:"/op/client/create",type:"post",dataType:"json",data:$("#validation").serialize(),success:function(a){e(a.data),showAlert("success","Success","Client Added Successfuly")},error:function(e){showAlert("error","Error","OOps Something Went Wrong"),$("#close-create-client").click()}}),$("#validation").trigger("reset"),$(".wizard-back").click(),$(".wizard-back").click(),$("#newClient > ul > li:nth-child(2)").removeClass().removeClass("current").addClass("disabled"),$("li.active").addClass("current"),$("#validation").data("formValidation").resetForm()}})});